- content_for :page_title, "Ventas"

.flex.items-center.justify-between.mb-6
  %h1.text-3xl.font-bold.text-gray-900 Ventas
  = link_to new_web_order_path, class: "btn-primary" do
    %span +
    %span Nueva Venta

.bg-white.rounded-2xl.shadow-soft.overflow-hidden
  %table.min-w-full.divide-y.divide-gray-200
    %thead.bg-gray-50
      %tr
        %th.px-6.py-4.text-left.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          ID
        %th.px-6.py-4.text-left.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          Fecha
        %th.px-6.py-4.text-left.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          Cliente
        %th.px-6.py-4.text-left.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          Estado
        %th.px-6.py-4.text-right.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          Total
        %th.px-6.py-4.text-right.text-xs.font-semibold.text-gray-600.uppercase.tracking-wider 
          Acciones
    
    %tbody.divide-y.divide-gray-100.bg-white
      - @orders.each do |order|
        %tr.hover:bg-gray-50.transition-colors
          %td.px-6.py-4.whitespace-nowrap
            %span.font-mono.text-sm.font-semibold.text-gray-900= "##{order.id}"
          %td.px-6.py-4.whitespace-nowrap
            %span.text-sm.text-gray-900= l(order.created_at, format: :short)
          %td.px-6.py-4
            - if order.customer
              %span.text-sm.text-gray-900= order.customer.name
            - else
              %span.text-sm.text-gray-500 -
          %td.px-6.py-4.whitespace-nowrap
            - if order.confirmed_status?
              %span.inline-flex.items-center.gap-1.px-3.py-1.rounded-full.text-xs.font-medium.bg-success-light.text-success-dark
                %span ✓
                %span Confirmada
            - else
              %span.inline-flex.items-center.gap-1.px-3.py-1.rounded-full.text-xs.font-medium.bg-red-100.text-red-800
                %span ✕
                %span Cancelada
          %td.px-6.py-4.whitespace-nowrap.text-right
            %span.text-sm.font-bold.text-gray-900= number_to_currency(order.total_amount)
          %td.px-6.py-4.whitespace-nowrap.text-right.text-sm.font-medium
            - if order.confirmed_status?
              = button_to cancel_web_order_path(order),
                          method: :post,
                          data: { confirm: "¿Seguro que quieres cancelar esta venta?" },
                          class: "text-red-600 hover:text-red-800" do
                Cancelar
            - else
              %span.text-gray-400 -
